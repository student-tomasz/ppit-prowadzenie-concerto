\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{dokument-ppi-meta}[2012/12/27 Tabela informacyjna dla dokumentów powstałych w ramach projektu PPI 2012/2013]

\RequirePackage{xparse}

\RequirePackage{longtable}

\RequirePackage{booktabs}
\DeclareDocumentCommand {\AdjustArrayStretch} { m } {%
    \RenewDocumentCommand {\arraystretch} { } {#1}
}

\RequirePackage{setspace}

\NewDocumentCommand {\GivenCwiczenie} { } {3}
\NewDocumentCommand {\GivenMeta} { } {}
\NewDocumentCommand {\GivenTytul} { } {WAAAGH Dokumenta Tirrra Apartaaah!!!}
\NewDocumentCommand {\GivenData} { } {2012-12-27}
\NewDocumentCommand {\GivenWersja} { } {1.0}
\NewDocumentCommand {\GivenAutorzy} { } {TC, DG, ŁG, MM, MO, AO, MS}
\NewDocumentCommand {\Cwiczenie} { m } {%
    \RenewDocumentCommand {\GivenCwiczenie} { } {#1}
}
\NewDocumentCommand {\Meta} { O{ (\emph{meta})} } {%
    \RenewDocumentCommand {\GivenMeta} { } {#1}
}
\NewDocumentCommand {\Tytul} { m } {%
    \RenewDocumentCommand {\GivenTytul} { } {#1}
}
\NewDocumentCommand {\Data} { m } {%
    \RenewDocumentCommand {\GivenData} { } {#1}
}
\NewDocumentCommand {\Wersja} { m } {%
    \RenewDocumentCommand {\GivenWersja} { } {#1}
}
\NewDocumentCommand {\Autorzy} { m } {%
    \RenewDocumentCommand {\GivenAutorzy} { } {#1}
}

\NewDocumentCommand {\MakeDokumentMeta} { } {%
\begin{singlespacing}
\AdjustArrayStretch{1.2}
\begin{longtable}{@{} p{0.10\textwidth} @{\hspace{0.05\textwidth}} p{0.85\textwidth} @{}}
    \toprule[2pt]
    \multicolumn{2}{@{} c @{}}{\large{\GivenTytul}} \\
    \multicolumn{2}{@{} c @{}}{Prowadzenie \emph{Concerto} --- Ćwiczenie \GivenCwiczenie\GivenMeta} \\
    \midrule[0.5pt]
    \textbf{Data}    & \GivenData \\
    \textbf{Wersja}  & \GivenWersja \\
    \textbf{Autorzy} & \GivenAutorzy \\
    \bottomrule[2pt]
\end{longtable}
\end{singlespacing}
}
